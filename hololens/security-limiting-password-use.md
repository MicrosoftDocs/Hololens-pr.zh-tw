---
title: 限制密碼使用
description: 限制 HoloLens 的密碼使用
author: evmill
ms.author: v-evmill
ms.reviewer: tagran
ms.date: 6/30/2020
ms.topic: article
keywords: 安全性，hololens，限制密碼使用、密碼、hololens 密碼、登入、登入、windows hello、hello、windows 帳戶管理員、FIDO2 登入、FIDO 2、WEBAUTHN、本機帳戶、hololens 安全性
ms.prod: hololens
ms.sitesec: library
ms.localizationpriority: high
manager: yannisle
appliesto:
- HoloLens (1st gen)
- HoloLens 2
ms.openlocfilehash: 074fffc8350dd6deb876a19320397674bcac3e46
ms.sourcegitcommit: 4c15afc772fba26683d9b75e38c44a018b4889f6
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/12/2021
ms.locfileid: "113639296"
---
# <a name="limiting-password-use"></a><span data-ttu-id="ce936-104">限制密碼使用</span><span class="sxs-lookup"><span data-stu-id="ce936-104">Limiting password use</span></span>

<span data-ttu-id="ce936-105">現今大部分的電腦系統都會利用使用者認證作為安全性基礎，使其相依于可重複使用的使用者所建立的密碼。</span><span class="sxs-lookup"><span data-stu-id="ce936-105">Most computer systems today utilize user credentials as the basis for security making them dependent on reusable, user-created passwords.</span></span> <span data-ttu-id="ce936-106">這會導致密碼也變成帳戶洩漏和資料缺口的最常見原因。</span><span class="sxs-lookup"><span data-stu-id="ce936-106">This has resulted in passwords also becoming the most common cause of account compromise and data breaches.</span></span> <span data-ttu-id="ce936-107">例如，密碼可能會在網路釣魚或密碼噴灑攻擊的伺服器 (攔截或遭竊，) 並遭到入侵以取得使用者帳戶的存取權。</span><span class="sxs-lookup"><span data-stu-id="ce936-107">As an example of this, passwords can be intercepted in transmission or stolen from a server (by phishing or password spray attacks) and compromised to gain access to a user account.</span></span>

<span data-ttu-id="ce936-108">為了改進安全性與帳戶保護，HoloLens 2 可以啟用強式硬體支援的「無密碼」認證， (包括 Windows Hello 裝置登入) ，以提供無縫存取 Microsoft 雲端的功能。</span><span class="sxs-lookup"><span data-stu-id="ce936-108">To improve security and account protection, HoloLens 2 has the capability to enable strong, hardware-backed “password-less” credentials (including Windows Hello) for device sign in, offering seamless access to the Microsoft cloud.</span></span>

## <a name="signing-in-from-another-device"></a><span data-ttu-id="ce936-109">從另一部裝置登入</span><span class="sxs-lookup"><span data-stu-id="ce936-109">Signing in from another device</span></span>

<span data-ttu-id="ce936-110">HoloLens 2 在初始裝置設定和使用者登入期間提供 Azure Active Directory 工作帳戶的遠端裝置登入選項，以減少輸入複雜密碼的需求，並將密碼的需求降到最低。</span><span class="sxs-lookup"><span data-stu-id="ce936-110">HoloLens 2 offers remote device sign-in options for Azure Active Directory work accounts during initial device setup and user sign-in to reduce the need to type complex passwords and minimize the need for passwords as credentials.</span></span> <span data-ttu-id="ce936-111">使用智慧卡進行驗證的使用者和組織在 HoloLens 2 的裝置上使用這些認證時，通常會開發複雜的系統和昂貴的程式來解決此問題。</span><span class="sxs-lookup"><span data-stu-id="ce936-111">Users and organizations who use smartcards to authenticate have difficulty using those credentials on devices such as HoloLens 2, and often organizations develop complicated systems and costly processes to work around the problem.</span></span> <span data-ttu-id="ce936-112">為了解決這個問題，Azure AD 提供兩個選項，讓您在 HoloLens 2 上不需要密碼登入。</span><span class="sxs-lookup"><span data-stu-id="ce936-112">To solve this problem, Azure AD offers two options for password-less sign-in on HoloLens 2.</span></span>

<span data-ttu-id="ce936-113">第一個驗證方法會依賴 Microsoft Authenticator 應用程式中的新功能，以提供可讓使用者認證系結至裝置的金鑰型驗證。</span><span class="sxs-lookup"><span data-stu-id="ce936-113">The first authentication method relies on new capabilities in the Microsoft Authenticator app to provide key-based authentication that enables a user credential tied to a device.</span></span> <span data-ttu-id="ce936-114">一旦系統管理員在租使用者上啟用之後，使用者將會在 HoloLens 裝置設定期間顯示訊息，告知他們在其應用程式上使用數位。</span><span class="sxs-lookup"><span data-stu-id="ce936-114">Once enabled on a tenant by the administrator, users will be shown a message during HoloLens device setup telling them to tap a number on their app.</span></span> <span data-ttu-id="ce936-115">它們接著必須符合其驗證器應用程式的數目、選擇 [核准]、為其 HoloLens 設定提供其 PIN 或生物識別與完整驗證，才能繼續進行。</span><span class="sxs-lookup"><span data-stu-id="ce936-115">They must then match the number on their authenticator app, choose Approve, provide their PIN or a biometric and complete authentication for their HoloLens setup to proceed.</span></span> <span data-ttu-id="ce936-116">這在 [無密碼登入](/azure/active-directory/authentication/howto-authentication-passwordless-phone)中有更詳細的說明。</span><span class="sxs-lookup"><span data-stu-id="ce936-116">This is described in greater detail in [passwordless sign-in](/azure/active-directory/authentication/howto-authentication-passwordless-phone).</span></span>

<span data-ttu-id="ce936-117">第二個是裝置程式碼流程，對使用者來說是直覺的，不需要任何額外的基礎結構。</span><span class="sxs-lookup"><span data-stu-id="ce936-117">The second is a device code flow that is intuitive to users and does not require any additional infrastructure.</span></span>  <span data-ttu-id="ce936-118">此遠端登入行為依賴另一個支援組織慣用驗證機制的受信任裝置，當完成時，權杖會發出回 HoloLens，以完成登入或裝置設定。</span><span class="sxs-lookup"><span data-stu-id="ce936-118">This remote sign-in behavior relies on another trusted device that supports the organization’s preferred authentication mechanism and when complete, tokens are issued back to the HoloLens to complete sign-in or device setup.</span></span> <span data-ttu-id="ce936-119">此流程中的步驟如下：</span><span class="sxs-lookup"><span data-stu-id="ce936-119">The steps in this flow are:</span></span>

  1. <span data-ttu-id="ce936-120">在 OOBE 上進行初始裝置設定或登入流程的使用者會看到 [從其他裝置登入] 連結，並加以點擊。</span><span class="sxs-lookup"><span data-stu-id="ce936-120">A user going through the initial device setup or sign-in flows on OOBE is presented with a “Sign in from another device” link and taps on it.</span></span> <span data-ttu-id="ce936-121">這會起始遠端登入會話。</span><span class="sxs-lookup"><span data-stu-id="ce936-121">This initiates a remote sign in session.</span></span>
  1. <span data-ttu-id="ce936-122">然後，使用者會看到 [輪詢] 頁面，其中包含簡短的 URI ([https://microsoft.com/devicelogin](https://microsoft.com/devicelogin)) 指向 Azure AD 安全權杖服務 (STS) 的裝置驗證端點。</span><span class="sxs-lookup"><span data-stu-id="ce936-122">The user is then shown a polling page, which contains a short URI ([https://microsoft.com/devicelogin](https://microsoft.com/devicelogin)) that points to the device authentication endpoint of the Azure AD Secure Token Service (STS).</span></span> <span data-ttu-id="ce936-123">使用者也會看到一段時間的程式碼，該程式碼會在雲端中安全地產生，且最大存留期為15分鐘。</span><span class="sxs-lookup"><span data-stu-id="ce936-123">The user is also presented with a one-time code that is securely generated in the cloud and has a maximum lifetime of 15 minutes.</span></span> <span data-ttu-id="ce936-124">除了產生程式碼之外，Azure AD 也會在上一個步驟中的遠端登入要求開始時建立加密的會話，而且會使用 URI 和程式碼來核准遠端登入要求。</span><span class="sxs-lookup"><span data-stu-id="ce936-124">Along with code generation, Azure AD also creates an encrypted session upon initiation of the remote sign in request in the previous step and together, the URI and code are used to approve the remote sign-in request.</span></span>
  1. <span data-ttu-id="ce936-125">使用者接著流覽至另一個裝置的 URI，並提示輸入其 HoloLens 2 裝置上顯示的程式碼。</span><span class="sxs-lookup"><span data-stu-id="ce936-125">The user then navigates to the URI from another device and is prompted to enter the code displayed on their HoloLens 2 device.</span></span>
  1. <span data-ttu-id="ce936-126">使用者輸入程式碼之後，Azure AD STS 會顯示一個頁面，指出觸發遠端登入要求和要求產生程式碼的使用者 HoloLens 2 裝置。</span><span class="sxs-lookup"><span data-stu-id="ce936-126">Once the user enters the code, Azure AD STS displays a page indicating the user’s HoloLens 2 device that triggered the remote sign in request and requested generation of the code.</span></span> <span data-ttu-id="ce936-127">然後，系統會提示使用者進行確認，以防止任何網路釣魚攻擊。</span><span class="sxs-lookup"><span data-stu-id="ce936-127">The user is then prompted for confirmation to prevent any phishing attacks.</span></span>
  1. <span data-ttu-id="ce936-128">如果使用者選擇繼續登入所顯示的「應用程式」，Azure AD STS 會提示使用者提供其認證。</span><span class="sxs-lookup"><span data-stu-id="ce936-128">If the user chooses to continue signing in to the displayed ‘application’, Azure AD STS prompts the user for their credentials.</span></span> <span data-ttu-id="ce936-129">驗證成功時，Azure AD STS 會將快取的遠端會話更新為「已核准」，以及授權碼。</span><span class="sxs-lookup"><span data-stu-id="ce936-129">On successful authentication, Azure AD STS updates the cached remote session as 'approved' along with an authorization code.</span></span>
  1. <span data-ttu-id="ce936-130">最後，使用者 HoloLens 2 裝置上的 [輪詢] 頁面會收到來自 Azure AD 的「已授權」回應，並且會繼續驗證使用者程式碼、其相關聯的預存授權碼，並依要求產生 OAuth 權杖，以完成裝置設定。</span><span class="sxs-lookup"><span data-stu-id="ce936-130">Finally, the polling page on the user’s HoloLens 2 device receives an 'Authorized' response from Azure AD and proceeds to validate the user code, its associated stored authorization code and generates OAuth tokens as requested to complete device setup.</span></span> <span data-ttu-id="ce936-131">所建立驗證權杖的有效期為1小時，而重新整理權杖的存留期為90天。</span><span class="sxs-lookup"><span data-stu-id="ce936-131">The authentication token created is valid for 1 hour and the refresh token has a lifetime of 90 days.</span></span>

<span data-ttu-id="ce936-132">此流程中使用的程式碼產生和加密演算法都符合 FIPS 規範。</span><span class="sxs-lookup"><span data-stu-id="ce936-132">The code generation and encryption algorithms used in this flow are both FIPS compliant.</span></span> <span data-ttu-id="ce936-133">HoloLens 2 裝置會利用 TPM 來保護裝置金鑰，並使用硬體保護的金鑰來加密在使用者驗證之後所產生的權杖。</span><span class="sxs-lookup"><span data-stu-id="ce936-133">HoloLens 2 devices utilize the TPM to secure device keys and encrypt tokens generated after user authentication using hardware-protected keys.</span></span> <span data-ttu-id="ce936-134">HoloLens 2 上的權杖安全性的詳細資訊，請在[ (PRT) 的主要](/azure/active-directory/devices/concept-primary-refresh-token)重新整理權杖中共用。</span><span class="sxs-lookup"><span data-stu-id="ce936-134">More information on token security on HoloLens 2 is shared in [What is a Primary Refresh Token (PRT)](/azure/active-directory/devices/concept-primary-refresh-token).</span></span>

## <a name="device-sign-in-with-windows-hello"></a><span data-ttu-id="ce936-135">使用 Windows Hello 的裝置登入</span><span class="sxs-lookup"><span data-stu-id="ce936-135">Device sign-in with Windows Hello</span></span>

<span data-ttu-id="ce936-136">[Windows Hello](/windows/security/identity-protection/hello-for-business/hello-identity-verification)提供直接內建于作業系統的無密碼選項，允許使用者使用鳶尾花或 PIN 來登入裝置。</span><span class="sxs-lookup"><span data-stu-id="ce936-136">[Windows Hello](/windows/security/identity-protection/hello-for-business/hello-identity-verification) offers password-free options built directly into the operating system permitting users to sign into the device using Iris or PIN.</span></span> <span data-ttu-id="ce936-137">PIN 一律會以認證的形式提供，而且是裝置設定的必要選項，而鳶尾花則是選擇性的，可能會略過。</span><span class="sxs-lookup"><span data-stu-id="ce936-137">PIN is always available as a credential and is required for device setup, whereas Iris is optional and may be skipped.</span></span> <span data-ttu-id="ce936-138">使用者可以使用其個人 Microsoft 帳戶登入 HoloLens 裝置，或在 [不輸入密碼的 *情況下* Azure Active Directory 工作帳戶](/azure/active-directory/authentication/concept-authentication-passwordless)。</span><span class="sxs-lookup"><span data-stu-id="ce936-138">Users can sign-in to HoloLens devices using their personal Microsoft account or [Azure Active Directory work account *without* entering a password](/azure/active-directory/authentication/concept-authentication-passwordless).</span></span> <span data-ttu-id="ce936-139">這些選項可讓使用者以快速、安全的方式存取其完整的 Windows 體驗、應用程式、資料、網站和服務。</span><span class="sxs-lookup"><span data-stu-id="ce936-139">Options such as these offer users rapid, secured access to their full Windows experience, apps, data, websites, and services.</span></span> <span data-ttu-id="ce936-140">Microsoft 對無密碼體驗的策略詳述于此處。</span><span class="sxs-lookup"><span data-stu-id="ce936-140">Microsoft’s strategy towards passwordless experiences is detailed here.</span></span>

<span data-ttu-id="ce936-141">建立 Windows Hello 認證時，它會建立與身分識別提供者的信任關係，並建立用於驗證的非對稱金鑰組。</span><span class="sxs-lookup"><span data-stu-id="ce936-141">When a Windows Hello credential is created, it establishes a trusted relationship with an identity provider and creates an asymmetric key-pair for authentication.</span></span> <span data-ttu-id="ce936-142">Windows Hello 的手勢 (例如鳶尾花或 PIN) 提供熵來解密裝置的可信賴平臺模組 (TPM) 晶片所支援的私密金鑰。</span><span class="sxs-lookup"><span data-stu-id="ce936-142">A Windows Hello gesture (such as iris or PIN) provides entropy to decrypt a private key backed by the device’s Trusted Platform Module (TPM) chip.</span></span> <span data-ttu-id="ce936-143">接著會使用這個私密金鑰來簽署傳送給驗證服務器的要求，並在驗證成功時，授與使用者其郵件、圖片和其他帳戶設定的存取權。</span><span class="sxs-lookup"><span data-stu-id="ce936-143">This private key is then used to sign requests sent to an authenticating server and upon successful authentication, the user is granted access to their mail, pictures, and other account settings.</span></span>

<span data-ttu-id="ce936-144">如需詳細資訊，請參閱下列資訊圖：</span><span class="sxs-lookup"><span data-stu-id="ce936-144">For more information, see the following infographic:</span></span>

  ![Windows Hello登入](images/security-hello-sign-in.png)
  
<span data-ttu-id="ce936-146">在上圖中，請注意，nonce 代表「數位一次」，而是隨機或半隨機產生的數位。</span><span class="sxs-lookup"><span data-stu-id="ce936-146">In the graphic presented above, note that nonce is stands for “number once”, and is a random or semi-random generated number.</span></span> <span data-ttu-id="ce936-147">一旦設定了 Windows Hello 生物特徵辨識或 PIN 認證，它就不會離開布建的裝置。</span><span class="sxs-lookup"><span data-stu-id="ce936-147">Once the Windows Hello Biometric or PIN credential is set up, it never leaves the device on which it is provisioned.</span></span> <span data-ttu-id="ce936-148">即使使用者的 Windows Hello PIN 遭竊（例如透過網路釣魚攻擊），也不會有[使用者的實體裝置](/windows/security/identity-protection/hello-for-business/hello-why-pin-is-better-than-password)。</span><span class="sxs-lookup"><span data-stu-id="ce936-148">Even if the user’s Windows Hello PIN is stolen, such as through a phishing attack, it is [useless without the user’s physical device](/windows/security/identity-protection/hello-for-business/hello-why-pin-is-better-than-password).</span></span>

<span data-ttu-id="ce936-149">為了提高安全性，Windows Hello 認證受到信賴平臺模組 (TPM) 的保護，讓認證免于受到多個不正確專案的防 hammering 防護，並針對多個不正確的專案與惡意軟體防護進行補充，以防止暴露。</span><span class="sxs-lookup"><span data-stu-id="ce936-149">For added security, Windows Hello credentials are protected by the Trusted Platform Module (TPM) to make the credentials tamper resistant and supplemented with anti-hammering protections against multiple incorrect entries, and malicious software protection to prevent exposure.</span></span> <span data-ttu-id="ce936-150">如需單一 Sign-On (SSO) 的詳細資訊，請參閱此 [sso 方法的總覽](/azure/active-directory/manage-apps/what-is-single-sign-on)。</span><span class="sxs-lookup"><span data-stu-id="ce936-150">For more information on Single Sign-On (SSO), read this [overview of SSO methods](/azure/active-directory/manage-apps/what-is-single-sign-on).</span></span>

<span data-ttu-id="ce936-151">鳶尾花 authentication 會降回 PIN。</span><span class="sxs-lookup"><span data-stu-id="ce936-151">Iris authentication falls back to the PIN.</span></span> <span data-ttu-id="ce936-152">若要在裝置上設定新的 PIN (強式驗證器) ，使用者最近必須經過 [多重要素驗證 (MFA) ](/azure/active-directory/authentication/concept-mfa-howitworks) ，才能完成此程式。</span><span class="sxs-lookup"><span data-stu-id="ce936-152">In order to set up a new PIN (a strong authenticator) on the device, the user must have recently gone through [Multifactor Authentication (MFA)](/azure/active-directory/authentication/concept-mfa-howitworks) in order to complete the process.</span></span>

## <a name="single-sign-on-with-web-account-manager"></a><span data-ttu-id="ce936-153">使用 Web 帳戶管理員的單一登入</span><span class="sxs-lookup"><span data-stu-id="ce936-153">Single sign-on with Web Account Manager</span></span>

<span data-ttu-id="ce936-154">單一登入 (SSO) 可讓無密碼的使用者登入裝置，並利用使用者的個人帳戶或其工作或學校帳戶。</span><span class="sxs-lookup"><span data-stu-id="ce936-154">Single sign-on (SSO) allows password-less users to sign into the device, utilizing the user’s personal account or their work or school account.</span></span> <span data-ttu-id="ce936-155">系統會透過 [Web 帳戶管理員 api](/uwp/api/Windows.Security.Authentication.Web.Provider?view=winrt-19041&preserve-view=true)，在所有整合式應用程式和服務上自動授權使用者使用 SSO。</span><span class="sxs-lookup"><span data-stu-id="ce936-155">The user is automatically authorized with SSO on all integrated apps and services via the [Web Account Manager APIs](/uwp/api/Windows.Security.Authentication.Web.Provider?view=winrt-19041&preserve-view=true).</span></span>

<span data-ttu-id="ce936-156">一旦透過單一應用程式新增身分識別之後，就可以透過使用者同意，使用系統層級整合，將它提供給所有的應用程式和服務使用。</span><span class="sxs-lookup"><span data-stu-id="ce936-156">Once an identity has been added through one application, it can, with user consent, become available to all apps and services using system-level integration.</span></span> <span data-ttu-id="ce936-157">這可大幅減少應用程式的登入負荷，並為使用者提供順暢的身分識別體驗。</span><span class="sxs-lookup"><span data-stu-id="ce936-157">This reduces the app sign in burden significantly and provides users with a seamless identity experience.</span></span>

<span data-ttu-id="ce936-158">如需有關如何執行 Web 帳戶管理員 Api 的詳細資訊，請移至 [執行 Web 帳戶管理員 api](/windows/uwp/security/web-account-manager)。</span><span class="sxs-lookup"><span data-stu-id="ce936-158">For more information on implementing Web Account Manager APIs, go to [Implementing Web Account Manager APIs](/windows/uwp/security/web-account-manager).</span></span>

  ![安全性 API](images/security-api-img.png)
  
<span data-ttu-id="ce936-160">針對具有特殊驗證需求的應用程式套件，Web 帳戶管理員 (WAM) 架構可延伸至自訂身分識別提供者。</span><span class="sxs-lookup"><span data-stu-id="ce936-160">For app suites with specialized authentication requirements, the Web Account Manager (WAM) framework is extensible to custom identity providers.</span></span> <span data-ttu-id="ce936-161">使用者可以下載自訂身分識別提供者，此提供者會從 Microsoft Store 封裝成通用 Windows 平臺的 (UWP) 應用程式，以在與該身分識別提供者整合的其他應用程式上啟用 SSO。</span><span class="sxs-lookup"><span data-stu-id="ce936-161">Users can download the custom identity provider, packaged as a Universal Windows Platform (UWP) app from the Microsoft Store, to enable SSO on other apps integrated with that identity provider.</span></span>

<span data-ttu-id="ce936-162">如需有關如何執行自訂 WAM 識別提供者的詳細資訊，請參閱 [自訂 WAM 識別提供者 API 參考](/uwp/api/Windows.Security.Authentication.Web.Provider?view=winrt-19041&preserve-view=true)。</span><span class="sxs-lookup"><span data-stu-id="ce936-162">For more information on implementing custom WAM Identity providers, see [Custom WAM Identity Provider API reference](/uwp/api/Windows.Security.Authentication.Web.Provider?view=winrt-19041&preserve-view=true).</span></span>

## <a name="windows-hello-and-fido2-sign-in-with-webauthn"></a><span data-ttu-id="ce936-163">使用 WebAuthn Windows Hello 及 FIDO2 登入</span><span class="sxs-lookup"><span data-stu-id="ce936-163">Windows Hello and FIDO2 sign-in with WebAuthn</span></span>

<span data-ttu-id="ce936-164">HoloLens 2 可以採用無密碼的使用者認證， (例如 Windows Hello 或 FIDO2 安全性金鑰) 透過 Microsoft Edge 和支援 WebAuthn 的網站安全地登入網站。</span><span class="sxs-lookup"><span data-stu-id="ce936-164">HoloLens 2 can employ password-less user credentials (such as Windows Hello or FIDO2 security keys) to securely sign in on the web via Microsoft Edge and to websites that support WebAuthn.</span></span> <span data-ttu-id="ce936-165">FIDO2 可讓使用者認證利用以標準為基礎的裝置來驗證線上服務。</span><span class="sxs-lookup"><span data-stu-id="ce936-165">FIDO2 enables user credentials to take advantage of standards-based devices to authenticate to online services.</span></span>

> [!Note]
> <span data-ttu-id="ce936-166">[WebAuthn](https://www.w3.org/TR/webauthn/)和 FIDO2 [CTAP2](https://fidoalliance.org/specs/fido-v2.0-ps-20190130/fido-client-to-authenticator-protocol-v2.0-ps-20190130.html)規格會實作為服務。</span><span class="sxs-lookup"><span data-stu-id="ce936-166">The [WebAuthn](https://www.w3.org/TR/webauthn/) and FIDO2 [CTAP2](https://fidoalliance.org/specs/fido-v2.0-ps-20190130/fido-client-to-authenticator-protocol-v2.0-ps-20190130.html) specifications are implemented into services.</span></span> <span data-ttu-id="ce936-167">由 WebAuthn 和 FIDO2 指定的帶正負號中繼資料會提供資訊（例如使用者是否存在），並透過本機手勢驗證驗證。</span><span class="sxs-lookup"><span data-stu-id="ce936-167">The signed metadata specified by WebAuthn and FIDO2 provides information – such as whether the user was present - and verifies the authentication through the local gesture.</span></span>

<span data-ttu-id="ce936-168">如同 Windows Hello，當使用者建立並註冊 FIDO2 認證時，裝置 (HoloLens 2 或 FIDO2 安全性金鑰) 會在裝置上產生私用金鑰和公開金鑰。</span><span class="sxs-lookup"><span data-stu-id="ce936-168">As with Windows Hello, when the user creates and registers a FIDO2 credential, the device (HoloLens 2 or the FIDO2 security key), generates a private and public key on the device.</span></span> <span data-ttu-id="ce936-169">私密金鑰會安全地儲存在裝置上，而且只有在使用本機手勢（例如生物特徵辨識或 PIN）解除鎖定後，才能使用該金鑰。</span><span class="sxs-lookup"><span data-stu-id="ce936-169">The private key is stored securely on the device, and it can only be used after it is unlocked using a local gesture such as a biometric or PIN.</span></span> <span data-ttu-id="ce936-170">儲存私密金鑰時，公開金鑰會傳送至雲端中的 Microsoft 帳戶系統，並使用相關聯的使用者帳戶註冊。</span><span class="sxs-lookup"><span data-stu-id="ce936-170">When the private key is stored, the public key is sent to the Microsoft account system in the cloud and registered with the associated user account.</span></span>

<span data-ttu-id="ce936-171">使用 MSA 和 Azure AD 帳戶登入之後，系統會將產生的數位或資料變數傳送至 HoloLens 2 或 FIDO2 裝置。</span><span class="sxs-lookup"><span data-stu-id="ce936-171">After signing in with an MSA and Azure AD account, the system sends a generated number or data variable to the HoloLens 2 or FIDO2 device.</span></span> <span data-ttu-id="ce936-172">HoloLens 2 或裝置會使用私密金鑰來簽署識別。</span><span class="sxs-lookup"><span data-stu-id="ce936-172">The HoloLens 2 or device uses the private key to sign the identification.</span></span> <span data-ttu-id="ce936-173">帶正負號的識別和中繼資料會傳回給 Microsoft 帳戶系統，並使用公開金鑰進行驗證。</span><span class="sxs-lookup"><span data-stu-id="ce936-173">The signed identification and metadata are sent back to the Microsoft account system and verified using the public key.</span></span>

<span data-ttu-id="ce936-174">Windows Hello 和 FIDO2 裝置會根據 HoloLens 裝置（特別是內建的信賴平臺模組安全記憶體保護區）來執行認證。</span><span class="sxs-lookup"><span data-stu-id="ce936-174">Windows Hello and FIDO2 devices implement credentials based on the HoloLens device, specifically the built-in Trusted Platform Module secure enclave.</span></span> <span data-ttu-id="ce936-175">TPM 記憶體保護區會儲存私密金鑰，並需要生物特徵辨識或 PIN 才能將其解除鎖定。</span><span class="sxs-lookup"><span data-stu-id="ce936-175">The TPM enclave stores the private key and requires either a biometric or PIN to unlock it.</span></span> <span data-ttu-id="ce936-176">同樣地，FIDO2 安全性金鑰是具有內建安全記憶體保護區的小型外部裝置，可儲存私密金鑰，並需要生物特徵辨識或 PIN 才能將其解除鎖定。</span><span class="sxs-lookup"><span data-stu-id="ce936-176">Similarly, a FIDO2 security key is a small external device with a built-in secure enclave that stores the private key and requires a biometric or PIN to unlock it.</span></span>

<span data-ttu-id="ce936-177">這兩個選項都會在一個步驟中提供雙因素驗證，且需要已註冊的裝置和生物特徵辨識或 PIN 才能成功登入。</span><span class="sxs-lookup"><span data-stu-id="ce936-177">Both options offer two-factor authentication in one step, requiring both a registered device and a biometric or PIN to successfully sign in.</span></span> <span data-ttu-id="ce936-178">如需詳細資訊，請參閱下面的「使用 FIDO2 安全性關鍵的強大驗證」圖形和流程。</span><span class="sxs-lookup"><span data-stu-id="ce936-178">For more information, see the strong authentication with FIDO2 security key graphic and process, which follows.</span></span>

### <a name="strong-authentication-with-fido2-security-key"></a><span data-ttu-id="ce936-179">具有 FIDO2 安全性金鑰的增強式驗證</span><span class="sxs-lookup"><span data-stu-id="ce936-179">Strong Authentication with FIDO2 security key</span></span>

  ![FIDO img](images/security-fido2-whfb-smaller.png)

1. <span data-ttu-id="ce936-181">使用者將 FIDO2 安全性金鑰插入 HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="ce936-181">User plugs FIDO2 security key into HoloLens 2</span></span>
1. <span data-ttu-id="ce936-182">Windows 偵測 FIDO2 安全性金鑰</span><span class="sxs-lookup"><span data-stu-id="ce936-182">Windows detects FIDO2 security key</span></span>
1. <span data-ttu-id="ce936-183">HoloLens 傳送驗證要求</span><span class="sxs-lookup"><span data-stu-id="ce936-183">HoloLens sends auth request</span></span>
1. <span data-ttu-id="ce936-184">Azure AD 傳回 nonce</span><span class="sxs-lookup"><span data-stu-id="ce936-184">Azure AD sends back nonce</span></span>
1. <span data-ttu-id="ce936-185">使用者完成手勢以解除鎖定安全性金鑰安全記憶體保護區中的私密金鑰存放區</span><span class="sxs-lookup"><span data-stu-id="ce936-185">User completes gesture to unlock private key stores in security key's secure enclave</span></span>
1. <span data-ttu-id="ce936-186">使用私密金鑰來簽署 nonce 的 FIDO2 安全性金鑰</span><span class="sxs-lookup"><span data-stu-id="ce936-186">FIDO2 security key signs nonce with private key</span></span>
1. <span data-ttu-id="ce936-187">具有已簽署 nonce 的 PRT 權杖要求會傳送給 Azure AD</span><span class="sxs-lookup"><span data-stu-id="ce936-187">PRT token request with signed nonce is sent to Azure AD</span></span>
1. <span data-ttu-id="ce936-188">Azure AD 驗證 FIDO 金鑰</span><span class="sxs-lookup"><span data-stu-id="ce936-188">Azure AD verifies FIDO key</span></span>
1. <span data-ttu-id="ce936-189">Azure AD 會傳回 PRT 和 TGT 以啟用資源的存取</span><span class="sxs-lookup"><span data-stu-id="ce936-189">Azure AD returns PRT and TGT to enable access to resources</span></span>

<span data-ttu-id="ce936-190">MSA 和 Azure AD 是在第一個信賴憑證者中，藉由執行 WebAuthn 來支援無密碼驗證。</span><span class="sxs-lookup"><span data-stu-id="ce936-190">MSA and Azure AD are among the first relying parties to support password-less authentication by implementing WebAuthn.</span></span>

<span data-ttu-id="ce936-191">如需有關搭配使用 WebAuthn 與應用程式和/或 Sdk 的詳細資訊，請移至[Windows 10 上無密碼驗證的 Webauthn api](/windows/security/identity-protection/hello-for-business/webauthnapis)。</span><span class="sxs-lookup"><span data-stu-id="ce936-191">For more information on using WebAuthn with applications and/or SDKs, go to [WebAuthn APIs for password-less authentication on Windows 10](/windows/security/identity-protection/hello-for-business/webauthnapis).</span></span>

<span data-ttu-id="ce936-192">HoloLens 2 支援 FIDO2 安全性裝置，這些裝置會實作為規格，並符合[Azure Active Directory 無密碼登入 FIDO2 安全性金鑰](/azure/active-directory/authentication/concept-authentication-passwordless#fido2-security-keys)上所列出的需求。</span><span class="sxs-lookup"><span data-stu-id="ce936-192">HoloLens 2 supports FIDO2 security devices that are implemented to spec and satisfy the requirements listed on [Azure Active Directory passwordless sign-in - FIDO2 security keys](/azure/active-directory/authentication/concept-authentication-passwordless#fido2-security-keys) should be supported.</span></span>

## <a name="local-accounts"></a><span data-ttu-id="ce936-193">本機帳戶</span><span class="sxs-lookup"><span data-stu-id="ce936-193">Local accounts</span></span>

<span data-ttu-id="ce936-194">您可以設定單一本機帳戶以進行離線模式部署。</span><span class="sxs-lookup"><span data-stu-id="ce936-194">A single local account can be configured for offline mode deployments.</span></span> <span data-ttu-id="ce936-195">預設不會啟用本機帳戶，而且必須在裝置布建期間設定。</span><span class="sxs-lookup"><span data-stu-id="ce936-195">Local accounts are not enabled by default and must be configured during device provisioning.</span></span> <span data-ttu-id="ce936-196">他們必須使用密碼登入，而且不支援 (的替代驗證方法，例如商務或[Windows Hello](/windows-hardware/design/device-experiences/windows-hello)) [的 Windows Hello](/windows/security/identity-protection/hello-for-business/hello-overview) 。</span><span class="sxs-lookup"><span data-stu-id="ce936-196">They must sign in by using a password, and they do not support alternate authentication methods (such as [Windows Hello for Business](/windows/security/identity-protection/hello-for-business/hello-overview) or [Windows Hello](/windows-hardware/design/device-experiences/windows-hello)).</span></span>

<span data-ttu-id="ce936-197">您可以在[HoloLens 身分識別](hololens-identity.md)中找到 HoloLens 使用者帳戶的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="ce936-197">More details on HoloLens user accounts can be found on [HoloLens Identity](hololens-identity.md).</span></span>

<span data-ttu-id="ce936-198">IT 系統管理員會透過 [AllowMicrosoftAccountConnection](/windows/client-management/mdm/policy-csp-accounts#accounts-allowmicrosoftaccountconnection)來調整是否允許使用者使用 MSA 帳戶進行非電子郵件相關的連線驗證和服務。</span><span class="sxs-lookup"><span data-stu-id="ce936-198">IT administrators adjust whether the user is allowed to use an MSA account for non-email related connection authentication and services through [AllowMicrosoftAccountConnection](/windows/client-management/mdm/policy-csp-accounts#accounts-allowmicrosoftaccountconnection).</span></span> <span data-ttu-id="ce936-199">如需密碼設定原則、閒置原則和鎖定畫面原則，請參閱 [裝置鎖定](/windows/client-management/mdm/policy-csp-devicelock)。</span><span class="sxs-lookup"><span data-stu-id="ce936-199">For password configuration policies, idling policies, and lock screen policies, see [Device Lock](/windows/client-management/mdm/policy-csp-devicelock).</span></span>
